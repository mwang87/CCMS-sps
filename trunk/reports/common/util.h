////////////////////////////////////////////////////////////////////////////////
#ifndef __UTIL_H__
#define __UTIL_H__
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
#include <iostream>
#include <sstream>
#include <string>
#include <stdexcept>

////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
/*! \brief Exception class to handle convertio to double errors.
 */
class BadConversion : public std::runtime_error {
public:
  BadConversion(std::string const& s)
   : std::runtime_error(s)
   { }
};

////////////////////////////////////////////////////////////////////////////////
/*! \brief Convertion to double inline function that throws a BadConversion exception in case there is an error
 */
inline double convertToDouble(std::string const& s)
{
  std::istringstream i(s);
  double x;
  if (!(i >> x))
   throw BadConversion("convertToDouble(\"" + s + "\")");
  return x;
}
////////////////////////////////////////////////////////////////////////////////
#endif
////////////////////////////////////////////////////////////////////////////////
